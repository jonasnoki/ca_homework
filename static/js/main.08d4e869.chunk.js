(this.webpackJsonpca_homework=this.webpackJsonpca_homework||[]).push([[0],{14:function(t,i,e){},15:function(t,i,e){},18:function(t,i,e){"use strict";e.r(i);var n=e(4),o=e.n(n),s=e(9),c=e.n(s),r=(e(14),e(15),e(6)),a=e(2),u=e(0),l=e(1),h=function(){function t(i,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new a.g(1),s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new a.c;Object(u.a)(this,t),this.currentPosition=new a.h,this.previousPosition=new a.h,this.velocity=new a.h,this.force=new a.h,this.bouncing=0,this.lifetime=0,this.fixed=!1,this.mesh=void 0,this.currentPosition.set(i,e,n),this.mesh=new a.b(o,s)}return Object(l.a)(t,[{key:"setPosition",value:function(t,i,e){this.currentPosition.set(t,i,e)}},{key:"setPreviousPosition",value:function(t,i,e){this.previousPosition.set(t,i,e)}},{key:"setVelocity",value:function(t,i,e){this.velocity.set(t,i,e)}},{key:"setForce",value:function(t,i,e){this.velocity.set(t,i,e)}},{key:"setBouncing",value:function(t){this.bouncing=t}},{key:"setLifetime",value:function(t){this.lifetime=t}},{key:"setFixed",value:function(t){this.fixed=t}},{key:"getCurrentPosition",value:function(){return this.currentPosition}},{key:"getPreviousPosition",value:function(){return this.previousPosition}},{key:"getVelocity",value:function(){return this.velocity}},{key:"getBouncing",value:function(){return this.bouncing}},{key:"getLifetime",value:function(){return this.lifetime}},{key:"isFixed",value:function(){return this.fixed}},{key:"addForce",value:function(t){this.force.add(t)}},{key:"updateParticle",value:function(t){this.fixed||(this.previousPosition.set(this.currentPosition.x,this.currentPosition.y,this.currentPosition.z),this.velocity=this.velocity.addScaledVector(this.force,t),this.currentPosition=this.currentPosition.addScaledVector(this.velocity,t),this.mesh.position.set(this.currentPosition.x,this.currentPosition.y,this.currentPosition.z))}},{key:"collisionParticlePlane",value:function(t){var i;return i=this.currentPosition.dot(t.normal)+t.constant,(i*=this.previousPosition.dot(t.normal)+t.constant)<=0}},{key:"correctCollisionParticlePlain",value:function(t){var i=t.normal.normalize();this.currentPosition=this.currentPosition.sub(i.multiplyScalar((1+this.bouncing)*(this.currentPosition.dot(i)+t.constant))),this.velocity=this.velocity.sub(i.multiplyScalar((1+this.bouncing)*(this.velocity.dot(i)+t.constant)))}}]),t}(),v=function(){function t(){Object(u.a)(this,t),this.particles=[],this.plane=void 0,this.collisionCount=0;var i=new h(0,10,0);this.particles.push(i),i.setLifetime(7),console.log("Lifetime ="+i.getLifetime()),i.setBouncing(1),i.addForce(new a.h(0,-9.8,0)),this.plane=new a.e,this.plane.setFromNormalAndCoplanarPoint(new a.h(0,1,0),new a.h(0,0,0));var e=i.getCurrentPosition();console.log("position = ".concat(e.x,"  ").concat(e.y,"  ").concat(e.z,"  time =  0"))}return Object(l.a)(t,[{key:"update",value:function(t){var i=this;console.log(t),this.particles.forEach((function(e){var n=e.getCurrentPosition();e.updateParticle(.01),console.log("position = ".concat(n.x,"  ").concat(n.y,"  ").concat(n.z,"  time =  ").concat(t)),e.collisionParticlePlane(i.plane)&&(e.correctCollisionParticlePlain(i.plane),console.log("rebound = "+i.collisionCount++))}))}}]),t}(),f=e(5);var d=function(){var t=o.a.useRef(null),i=o.a.useState(null),e=Object(r.a)(i,2),n=e[0];return e[1],o.a.useEffect((function(){!function(){var i=new a.d(70,window.innerWidth/window.innerHeight,.01,100);i.position.set(0,5,40);var e=new a.f,n=new a.a(4210752);e.add(n);var o=new v;o.particles.forEach((function(t){return e.add(t.mesh)}));var s=new a.i({antialias:!0,canvas:t.current});s.setSize(window.innerWidth,window.innerHeight),s.setAnimationLoop((function(t){return function(t,i,e,n,o){o.update(t),n.render(e,i)}(t,i,e,s,o)}))}()}),[n]),Object(f.jsx)("canvas",{id:"canvas",ref:t})};var P=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:Object(f.jsx)(d,{})})})},y=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,19)).then((function(i){var e=i.getCLS,n=i.getFID,o=i.getFCP,s=i.getLCP,c=i.getTTFB;e(t),n(t),o(t),s(t),c(t)}))};c.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(P,{})}),document.getElementById("root")),y()}},[[18,1,2]]]);
//# sourceMappingURL=main.08d4e869.chunk.js.map